const IS_PRODUCTION="undefined"!=typeof process&&"production"===process.env?.NODE_ENV,IS_BROWSER="undefined"!=typeof window;let CONFIG={mode:IS_PRODUCTION?"production":"development",performance:{maxUpdatesPerSecond:100,debounceDelay:16,batchDelay:0,enableProfiling:!IS_PRODUCTION},debug:{enabled:!IS_PRODUCTION,logRenders:!1,trackComponentTree:!1,warnOnSlowRenders:!0,slowRenderThreshold:16},features:{strictMode:!0,suspense:!0,portals:!0}};function configure(e){CONFIG={...CONFIG,...e},DEBUG_MODE=CONFIG.debug.enabled}let DEBUG_MODE=CONFIG.debug.enabled;const performanceMetrics={renderCount:0,totalRenderTime:0,averageRenderTime:0,slowRenders:[],componentRenderTimes:new Map,recordRender(e,t){if(this.renderCount++,this.totalRenderTime+=e,this.averageRenderTime=this.totalRenderTime/this.renderCount,t){this.componentRenderTimes.has(t)||this.componentRenderTimes.set(t,{count:0,totalTime:0,avgTime:0});const n=this.componentRenderTimes.get(t);n.count++,n.totalTime+=e,n.avgTime=n.totalTime/n.count}e>CONFIG.debug.slowRenderThreshold&&(this.slowRenders.push({duration:e,componentName:t,timestamp:Date.now(),stack:(new Error).stack}),CONFIG.debug.warnOnSlowRenders&&console.warn(`Slow render detected: ${e.toFixed(2)}ms`,t)),this.slowRenders.length>100&&this.slowRenders.shift()},getReport(){return{totalRenders:this.renderCount,averageRenderTime:this.averageRenderTime.toFixed(2)+"ms",slowRenders:this.slowRenders.length,componentStats:Array.from(this.componentRenderTimes.entries()).map((([e,t])=>({component:e,renders:t.count,avgTime:t.avgTime.toFixed(2)+"ms"}))).sort(((e,t)=>parseFloat(t.avgTime)-parseFloat(e.avgTime)))}},reset(){this.renderCount=0,this.totalRenderTime=0,this.averageRenderTime=0,this.slowRenders=[],this.componentRenderTimes.clear()}},PropTypes={string:e=>"string"==typeof e,number:e=>"number"==typeof e,bool:e=>"boolean"==typeof e,func:e=>"function"==typeof e,array:e=>Array.isArray(e),object:e=>"object"==typeof e&&null!==e,node:e=>null==e||"string"==typeof e||"number"==typeof e||e.type,element:e=>e&&e.type,any:()=>!0,arrayOf:e=>t=>Array.isArray(t)&&t.every(e),objectOf:e=>t=>"object"==typeof t&&null!==t&&Object.values(t).every(e),oneOf:e=>t=>e.includes(t),oneOfType:e=>t=>e.some((e=>e(t))),shape:e=>t=>"object"==typeof t&&null!==t&&Object.keys(e).every((n=>e[n](t[n]))),required:e=>{const t=t=>null!=t&&e(t);return t.isRequired=!0,t}};function validateProps(e,t){if(!e.propTypes||!DEBUG_MODE)return;const n=e.name||"Component";Object.keys(e.propTypes).forEach((o=>{const r=e.propTypes[o],a=t[o];r.isRequired&&null==a?console.error(`Required prop '${o}' was not specified in '${n}'.`):null==a||r(a)||console.error(`Invalid prop '${o}' of value '${a}' supplied to '${n}'.`)}))}let root=null,component=null,rootVersion=0;const componentStates=new Map,componentEffects=new Map,componentMemos=new Map,componentCallbacks=new Map,componentIds=new WeakMap,componentInstances=new Map,componentNames=new WeakMap;let nextComponentId=0,componentStack=[],activeComponentIds=new Set,currentInstanceKey=null,isInRender=!1,hookCallOrder=[];const contextStack=[];let nextContextId=0,oldVTree=null;const domNodeMap=new WeakMap,vnodeToDom=new WeakMap,domToVnode=new WeakMap;let updateScheduled=!1,batchedUpdates=new Set;const BATCH_DELAY=CONFIG.performance.batchDelay,MAX_UPDATES_PER_SECOND=CONFIG.performance.maxUpdatesPerSecond;let updateCount=0,lastResetTime=Date.now(),renderVersion=0,debounceTimer=null;const DEBOUNCE_DELAY=CONFIG.performance.debounceDelay,delegatedEvents=new Set(["click","dblclick","input","change","submit","keydown","keyup","keypress","focus","blur","mousedown","mouseup","mousemove","mouseenter","mouseleave","touchstart","touchend","touchmove"]);let eventDelegationInitialized=!1;const globalEventListeners=new Map;function initEventDelegation(){eventDelegationInitialized||(delegatedEvents.forEach((e=>{const t=t=>{let n=t.target;for(;n&&n!==document&&!(n.__listeners&&n.__listeners[e]&&(n.__listeners[e](t),t.cancelBubble));)n=n.parentNode};document.addEventListener(e,t,!0),globalEventListeners.set(e,t)})),eventDelegationInitialized=!0)}function cleanupEventDelegation(){globalEventListeners.forEach(((e,t)=>{document.removeEventListener(t,e,!0)})),globalEventListeners.clear(),eventDelegationInitialized=!1}const elementListeners=new WeakMap;function trackElementListener(e,t,n){elementListeners.has(e)||elementListeners.set(e,new Map);elementListeners.get(e).set(t,n)}function cleanupDOMElement(e){e&&(e.__listeners&&(Object.keys(e.__listeners).forEach((t=>{delete e.__listeners[t]})),delete e.__listeners),Array.from(e.children||[]).forEach(cleanupDOMElement))}class MyReactError extends Error{constructor(e,t){super(e),this.name="MyReactError",this.component=t}}let errorBoundaryStack=[];function captureError(e,t){const n=t?.name||"Unknown";console.error(`Error in component ${n}:`,e);for(let t=errorBoundaryStack.length-1;t>=0;t--){const o=errorBoundaryStack[t];if(o.onError)return o.onError(e,{componentName:n}),!0}return!1}function getComponentId(e){return componentIds.has(e)||(componentIds.set(e,"comp_"+nextComponentId++),e.name&&componentNames.set(e,e.name)),componentIds.get(e)}function getComponentName(e){return componentNames.get(e)||e.name||"Anonymous"}function getInstanceKey(e,t){return`${e}_${t||"default"}`}function createContext(e){const t="context_"+nextContextId++,n={_id:t,_defaultValue:e,_currentValue:e,Provider:function({value:e,children:o}){const r=n._currentValue;return n._currentValue=e,contextStack.push({id:t,value:e}),useLayoutEffect((()=>()=>{n._currentValue=r;const o=contextStack.findIndex((n=>n.id===t&&n.value===e));-1!==o&&contextStack.splice(o,1)}),[e]),Array.isArray(o)?h("div",{},...o):o},Consumer:function({children:e}){const t=useContext(n);return"function"==typeof e?e(t):e}};return n}function useContext(e){if(validateHookCall("useContext"),!e||!e._id)throw new MyReactError("useContext must be called with a valid context object");for(let t=contextStack.length-1;t>=0;t--)if(contextStack[t].id===e._id)return contextStack[t].value;return e._defaultValue}function checkRenderLoop(){const e=Date.now();if(e-lastResetTime>1e3&&(updateCount=0,lastResetTime=e),updateCount++,updateCount>MAX_UPDATES_PER_SECOND){const e=new MyReactError("Infinite render loop detected. Check your useEffect dependencies.");throw console.error("Render loop detected! Too many updates per second."),e}}function scheduleUpdate(e){const t=++renderVersion;batchedUpdates.add((()=>{renderVersion!==t&&renderVersion!==t+batchedUpdates.size-1||e()})),updateScheduled||(updateScheduled=!0,clearTimeout(debounceTimer),debounceTimer=setTimeout((()=>{Promise.resolve().then(flushUpdates)}),BATCH_DELAY))}function flushUpdates(){if(0!==batchedUpdates.size)try{checkRenderLoop();const e=Array.from(batchedUpdates);batchedUpdates.clear(),updateScheduled=!1,e.forEach((e=>{try{e()}catch(e){if(!captureError(e))throw e}}))}catch(e){throw batchedUpdates.clear(),updateScheduled=!1,e}else updateScheduled=!1}function validateHookCall(e){if(!isInRender)throw new MyReactError(`${e} can only be called inside a component function`);CONFIG.features.strictMode&&hookCallOrder.push(e)}function resetHookValidation(){hookCallOrder=[]}function useState(e){validateHookCall("useState");getComponentId(componentStack[componentStack.length-1]);const t=currentInstanceKey;activeComponentIds.add(t),componentStates.has(t)||componentStates.set(t,[]);const n=componentStates.get(t),o=componentInstances.get(t);o._stateIndex||(o._stateIndex=0);const r=o._stateIndex;return void 0===n[r]&&(n[r]="function"==typeof e?e():e),o._stateIndex++,[n[r],function(e){if(o._unmounted)return;const t="function"==typeof e?e(n[r]):e;Object.is(n[r],t)||(n[r]=t,scheduleUpdate((()=>update())))}]}function useReducer(e,t,n){validateHookCall("useReducer");const o=componentStack[componentStack.length-1],r=(getComponentId(o),currentInstanceKey);activeComponentIds.add(r),componentStates.has(r)||componentStates.set(r,[]);const a=componentStates.get(r),c=componentInstances.get(r);c._stateIndex||(c._stateIndex=0);const s=c._stateIndex;return void 0===a[s]&&(a[s]=n?n(t):t),c._stateIndex++,[a[s],function(t){if(!c._unmounted)try{const n=e(a[s],t);if(Object.is(a[s],n))return;a[s]=n,scheduleUpdate((()=>update()))}catch(e){captureError(e,o)}}]}function useEffect(e,t){validateHookCall("useEffect");const n=componentStack[componentStack.length-1],o=(getComponentId(n),currentInstanceKey);activeComponentIds.add(o),componentEffects.has(o)||componentEffects.set(o,[]);const r=componentEffects.get(o),a=componentInstances.get(o);a._effectIndex||(a._effectIndex=0);const c=a._effectIndex,s=r[c],l=shouldRunEffect(s,t);if(r[c]={callback:e,dependencies:t?[...t]:null,cleanup:s?.cleanup,isLayout:!1},l){const t=setTimeout((()=>{if(!a._unmounted&&activeComponentIds.has(o)){if(s?.cleanup)try{s.cleanup()}catch(e){DEBUG_MODE&&console.error("Error in effect cleanup:",e),captureError(e,n)}try{const t=e();"function"==typeof t&&(r[c].cleanup=t)}catch(e){DEBUG_MODE&&console.error("Error in effect:",e),captureError(e,n)}}}),0);a._timeouts||(a._timeouts=[]),a._timeouts.push(t)}a._effectIndex++}function useLayoutEffect(e,t){validateHookCall("useLayoutEffect");const n=componentStack[componentStack.length-1],o=(getComponentId(n),currentInstanceKey);activeComponentIds.add(o),componentEffects.has(o)||componentEffects.set(o,[]);const r=componentEffects.get(o),a=componentInstances.get(o);a._effectIndex||(a._effectIndex=0);const c=a._effectIndex,s=r[c],l=shouldRunEffect(s,t);if(r[c]={callback:e,dependencies:t?[...t]:null,cleanup:s?.cleanup,isLayout:!0},l){if(a._unmounted||!activeComponentIds.has(o))return;if(s?.cleanup)try{s.cleanup()}catch(e){DEBUG_MODE&&console.error("Error in layout effect cleanup:",e),captureError(e,n)}try{const t=e();"function"==typeof t&&(r[c].cleanup=t)}catch(e){DEBUG_MODE&&console.error("Error in layout effect:",e),captureError(e,n)}}a._effectIndex++}function useMemo(e,t){validateHookCall("useMemo");const n=componentStack[componentStack.length-1],o=(getComponentId(n),currentInstanceKey);activeComponentIds.add(o),componentMemos.has(o)||componentMemos.set(o,[]);const r=componentMemos.get(o),a=componentInstances.get(o);a._memoIndex||(a._memoIndex=0);const c=a._memoIndex,s=r[c],l=!s||!t||t.some(((e,t)=>!Object.is(e,s.dependencies[t])));if(l)try{const n=e();r[c]={value:n,dependencies:t?[...t]:null}}catch(e){throw captureError(e,n),e}return a._memoIndex++,r[c].value}function useCallback(e,t){return validateHookCall("useCallback"),useMemo((()=>e),t)}function shouldRunEffect(e,t){return!e||(!t||0!==t.length&&t.some(((t,n)=>!Object.is(t,e.dependencies[n]))))}function useRef(e){validateHookCall("useRef");getComponentId(componentStack[componentStack.length-1]);const t=currentInstanceKey;activeComponentIds.add(t),componentStates.has(t)||componentStates.set(t,[]);const n=componentStates.get(t),o=componentInstances.get(t);o._stateIndex||(o._stateIndex=0);const r=o._stateIndex;return void 0===n[r]&&(n[r]={current:e}),o._stateIndex++,n[r]}IS_BROWSER&&(window.addEventListener("error",(e=>{DEBUG_MODE&&console.error("Global error caught:",e.error)})),window.addEventListener("unhandledrejection",(e=>{DEBUG_MODE&&console.error("Unhandled promise rejection:",e.reason)})));const suspenseCache=new WeakMap;function Suspense({fallback:e,children:t}){const[n,o]=useState(null),[r,a]=useState(!1);if(n)throw n;try{const e="function"==typeof t?t():t;return r&&a(!1),e}catch(t){if(t instanceof Promise)return r||a(!0),t.then((()=>{a(!1),scheduleUpdate((()=>update()))})).catch((e=>{o(e)})),e;throw t}}function lazy(e){let t=null,n=null,o=null;return function(r){if(o)throw o;if(t)return t(r);throw n||(n=e().then((e=>(t=e.default||e,t))).catch((e=>{throw o=e,e}))),n}}function createPortal(e,t){if(!(t&&t instanceof HTMLElement))throw new MyReactError("createPortal requires a valid DOM element");const n=useRef(`portal_${Math.random().toString(36).substr(2,9)}`),o=useRef(!1);return useLayoutEffect((()=>{o.current=!0;return(()=>{if(!o.current)return;const r=createDOMElement("function"==typeof e?createComponent(e)():normalizeChild(e));r.setAttribute("data-portal-id",n.current);const a=t.querySelector(`[data-portal-id="${n.current}"]`);a?t.replaceChild(r,a):t.appendChild(r)})(),()=>{o.current=!1;const e=t.querySelector(`[data-portal-id="${n.current}"]`);e&&(cleanupDOMElement(e),t.removeChild(e))}}),[e,t]),null}function onMount(e){useEffect((()=>{e()}),[])}function onUnmount(e){useEffect((()=>e),[])}function withErrorBoundary(e,t){return function(n){const[o,r]=useState(null),[a,c]=useState(null),s={onError:(e,t)=>{r(e),c(t)}};if(useLayoutEffect((()=>(errorBoundaryStack.push(s),()=>{const e=errorBoundaryStack.indexOf(s);-1!==e&&errorBoundaryStack.splice(e,1)})),[]),o)return t({error:o,errorInfo:a,resetError:()=>{r(null),c(null)}});try{return e(n)}catch(n){return r(n),c({componentName:e.name}),t({error:n,errorInfo:{componentName:e.name},resetError:()=>{r(null),c(null)}})}}}function createVNode(e,t,n){return{type:e,props:t||{},children:n||[],key:t?.key}}function createComponent(e,t){return function(...n){const o=CONFIG.performance.enableProfiling?performance.now():0,r=getInstanceKey(getComponentId(e),t);componentInstances.has(r)||componentInstances.set(r,{_stateIndex:0,_effectIndex:0,_memoIndex:0,_unmounted:!1,_timeouts:[]});const a=componentInstances.get(r);a._stateIndex=0,a._effectIndex=0,a._memoIndex=0,activeComponentIds.add(r),componentStack.push(e);const c=currentInstanceKey;currentInstanceKey=r;const s=contextStack.length,l=isInRender;let i;isInRender=!0,resetHookValidation();try{validateProps(e,n[0]),i=e(...n)}catch(t){if(!captureError(t,e))throw t;i=h("div",{},"Error rendering component")}finally{if(contextStack.length=s,currentInstanceKey=c,componentStack.pop(),isInRender=l,CONFIG.performance.enableProfiling){const t=performance.now()-o;performanceMetrics.recordRender(t,getComponentName(e))}}return i}}function h(e,t,...n){return createVNode(e,t,n.flat(1/0).filter((e=>null!=e&&!1!==e)).map((e=>normalizeChild(e))))}function normalizeChild(e){return"string"==typeof e||"number"==typeof e?createVNode("TEXT",{textContent:String(e)},[]):"function"==typeof e?createComponent(e)():e&&e.type?e:IS_BROWSER&&e instanceof Node?createVNode("DOM_NODE",{node:e},[]):createVNode("TEXT",{textContent:String(e)},[])}function createDOMElement(e){if("TEXT"===e.type){const t=document.createTextNode(e.props.textContent||"");return vnodeToDom.set(e,t),domToVnode.set(t,e),t}if("DOM_NODE"===e.type)return e.props.node;const t=document.createElement(e.type);vnodeToDom.set(e,t),domToVnode.set(t,e),updateProps(t,{},e.props);for(const n of e.children)t.appendChild(createDOMElement(n));return t}function updateProps(e,t,n){for(const o in t)if(!(o in n)&&"key"!==o)if(o.startsWith("on")){const t=o.slice(2).toLowerCase();delegatedEvents.has(t)?e.__listeners&&delete e.__listeners[t]:e[o.toLowerCase()]=null}else"className"===o?e.className="":"style"===o&&"object"==typeof t[o]?Object.keys(t[o]).forEach((t=>{e.style[t]=""})):"ref"===o?"function"==typeof t[o]?t[o](null):t[o]&&"object"==typeof t[o]&&(t[o].current=null):e.removeAttribute(o);for(const o in n)if("key"!==o&&t[o]!==n[o])if(o.startsWith("on")&&"function"==typeof n[o]){const t=o.slice(2).toLowerCase();delegatedEvents.has(t)?(e.__listeners||(e.__listeners={}),e.__listeners[t]=n[o],trackElementListener(e,t,n[o])):e[o.toLowerCase()]=n[o]}else"className"===o?e.className=n[o]:"style"===o?"object"==typeof n[o]?Object.assign(e.style,n[o]):e.style.cssText=n[o]:"ref"===o?"function"==typeof n[o]?n[o](e):n[o]&&"object"==typeof n[o]&&(n[o].current=e):"dangerouslySetInnerHTML"===o?e.innerHTML=n[o].__html:o in e&&"list"!==o?e[o]=n[o]:e.setAttribute(o,n[o])}function diff(e,t,n,o=0){if(!t&&n){const t=createDOMElement(n);return e&&e.appendChild(t),t}if(t&&!n){const e=vnodeToDom.get(t);return e?.parentNode&&(cleanupDOMElement(e),e.parentNode.removeChild(e)),vnodeToDom.delete(t),null}if(t.type!==n.type){const e=vnodeToDom.get(t),o=createDOMElement(n);return e?.parentNode&&(cleanupDOMElement(e),e.parentNode.replaceChild(o,e)),vnodeToDom.delete(t),o}const r=vnodeToDom.get(t);return vnodeToDom.set(n,r),domToVnode.set(r,n),"TEXT"===n.type?(t.props.textContent!==n.props.textContent&&(r.textContent=n.props.textContent),r):("DOM_NODE"!==n.type&&updateProps(r,t.props,n.props),diffChildren(r,t.children||[],n.children||[]),r)}function diffChildren(e,t,n){const o=new Map,r=[];t.forEach(((e,t)=>{null!=e.key?o.set(e.key,{child:e,index:t}):r.push({child:e,index:t})}));let a=0;const c=[];n.forEach(((t,n)=>{let s=null,l=!1;if(null!=t.key&&o.has(t.key)){const e=o.get(t.key);s=e.child,l=e.index!==n,o.delete(t.key)}else if(null==t.key&&a<r.length){s=r[a].child,a++}if(s)diff(e,s,t,n),l&&c.push({vnode:t,index:n});else{const o=createDOMElement(t),r=e.childNodes[n]||null;e.insertBefore(o,r)}})),c.forEach((({vnode:t,index:n})=>{const o=vnodeToDom.get(t),r=e.childNodes[n];o!==r&&e.insertBefore(o,r||null)})),o.forEach((({child:e})=>{const t=vnodeToDom.get(e);t?.parentNode&&(cleanupDOMElement(t),t.parentNode.removeChild(t)),vnodeToDom.delete(e)}));for(let e=a;e<r.length;e++){const{child:t}=r[e],n=vnodeToDom.get(t);n?.parentNode&&(cleanupDOMElement(n),n.parentNode.removeChild(n)),vnodeToDom.delete(t)}}function cleanupComponent(e){const t=componentInstances.get(e);if(!t)return;t._unmounted=!0,t._timeouts&&(t._timeouts.forEach((e=>clearTimeout(e))),t._timeouts=[]);const n=componentEffects.get(e);n&&n.forEach((e=>{if(e?.cleanup)try{e.cleanup()}catch(e){DEBUG_MODE&&console.error("Error in cleanup:",e)}})),componentStates.delete(e),componentEffects.delete(e),componentMemos.delete(e),componentCallbacks.delete(e),componentInstances.delete(e)}function update(){if(!root||!component)return;const e=CONFIG.performance.enableProfiling?performance.now():0;try{const t=new Set(activeComponentIds);activeComponentIds.clear(),componentStack=[],contextStack.length=0;const n=createComponent(component)();if(oldVTree)diff(root,oldVTree,n);else{root.innerHTML="";const e=createDOMElement(n);e&&root.appendChild(e)}oldVTree=n;for(const e of t)activeComponentIds.has(e)||cleanupComponent(e);if(CONFIG.performance.enableProfiling){const t=performance.now()-e;performanceMetrics.recordRender(t,"Root")}}catch(e){if(console.error("Error during update:",e),!captureError(e))throw e}}function render(e){component=e,activeComponentIds.clear(),contextStack.length=0;try{const t=createComponent(e)(),n=createDOMElement(t);n&&root.appendChild(n),oldVTree=t}catch(e){if(console.error("Error during initial render:",e),!captureError(e))throw e}}function createRoot(e){if(!(e&&e instanceof HTMLElement))throw new MyReactError("createRoot requires a valid DOM element");initEventDelegation();return{_container:e,_version:++rootVersion,render(t){root=e,component=t,activeComponentIds.clear(),contextStack.length=0;try{e.innerHTML="";const n=createComponent(t)(),o=createDOMElement(n);o&&e.appendChild(o),oldVTree=n}catch(e){if(console.error("Error during render:",e),!captureError(e))throw e}},unmount(){root&&(activeComponentIds.forEach((e=>cleanupComponent(e))),cleanupDOMElement(e),e.innerHTML="",root=null,component=null,oldVTree=null,activeComponentIds.clear(),contextStack.length=0,componentStates.clear(),componentEffects.clear(),componentMemos.clear(),componentCallbacks.clear(),componentInstances.clear())}}}function hydrateRoot(e,t){if(!(e&&e instanceof HTMLElement))throw new MyReactError("hydrateRoot requires a valid DOM element");initEventDelegation(),root=e,component=t,activeComponentIds.clear(),contextStack.length=0;try{e.firstChild&&(oldVTree=buildVTreeFromDOM(e.firstChild));const n=createComponent(t)();if(oldVTree)diff(e,oldVTree,n);else{const t=createDOMElement(n);t&&e.appendChild(t)}return oldVTree=n,{unmount(){activeComponentIds.forEach((e=>cleanupComponent(e))),cleanupDOMElement(e),e.innerHTML="",root=null,component=null,oldVTree=null}}}catch(e){if(console.error("Error during hydration:",e),!captureError(e))throw e}}function buildVTreeFromDOM(e){if(e.nodeType===Node.TEXT_NODE)return createVNode("TEXT",{textContent:e.textContent},[]);if(e.nodeType!==Node.ELEMENT_NODE)return null;const t={};Array.from(e.attributes||[]).forEach((e=>{"class"===e.name?t.className=e.value:t[e.name]=e.value}));const n=Array.from(e.childNodes).map(buildVTreeFromDOM).filter(Boolean),o=createVNode(e.tagName.toLowerCase(),t,n);return vnodeToDom.set(o,e),domToVnode.set(e,o),o}const devTools={version:"2.0.0",renderers:new Map,componentTree:null,init(){IS_BROWSER&&DEBUG_MODE&&(window.__MYREACT_DEVTOOLS__=this,window.addEventListener("message",(e=>{"myreact-devtools"===e.data?.source&&this.handleDevToolsMessage(e.data)})))},handleDevToolsMessage(e){switch(e.type){case"GET_COMPONENT_TREE":this.sendComponentTree();break;case"GET_PERFORMANCE":this.sendPerformanceData();break;case"INSPECT_COMPONENT":this.inspectComponent(e.instanceKey)}},sendComponentTree(){const e=this.buildComponentTree();window.postMessage({source:"myreact-devtools-response",type:"COMPONENT_TREE",data:e},"*")},sendPerformanceData(){window.postMessage({source:"myreact-devtools-response",type:"PERFORMANCE_DATA",data:performanceMetrics.getReport()},"*")},buildComponentTree(){const e=[];return componentInstances.forEach(((t,n)=>{const o=componentStates.get(n),r=componentEffects.get(n);e.push({key:n,unmounted:t._unmounted,stateCount:o?.length||0,effectCount:r?.length||0,states:o||[]})})),e},inspectComponent(e){const t=componentInstances.get(e),n=componentStates.get(e),o=componentEffects.get(e),r=componentMemos.get(e);window.postMessage({source:"myreact-devtools-response",type:"COMPONENT_DETAILS",data:{instanceKey:e,instance:t,states:n,effects:o?.map((e=>({hasCleanup:!!e.cleanup,dependencies:e.dependencies,isLayout:e.isLayout}))),memos:r?.map((e=>({dependencies:e.dependencies})))}},"*")}};IS_BROWSER&&DEBUG_MODE&&devTools.init();const HTML_TAGS=["html","head","title","base","link","meta","style","body","header","nav","main","section","article","aside","footer","h1","h2","h3","h4","h5","h6","hgroup","p","hr","pre","blockquote","ol","ul","li","dl","dt","dd","figure","figcaption","div","a","em","strong","small","s","cite","q","dfn","abbr","data","time","code","samp","kbd","sub","sup","i","b","u","mark","ruby","rt","rp","bdi","bdo","span","br","wbr","img","audio","video","track","map","area","picture","embed","object","param","iframe","source","script","noscript","canvas","template","slot","del","ins","table","caption","colgroup","col","thead","tbody","tfoot","tr","th","td","form","fieldset","legend","label","input","button","select","datalist","optgroup","option","textarea","output","details","summary","dialog","menu","menuitem","svg","path","circle","rect","line","polyline","polygon","ellipse","g","text","tspan","defs","use","symbol"],elements={};HTML_TAGS.forEach((e=>{elements[e]=(...t)=>{let n={},o=t;return t.length>0&&null!=t[0]&&"object"==typeof t[0]&&!Array.isArray(t[0])&&!(IS_BROWSER&&t[0]instanceof Node)&&!t[0].type&&(n=t[0],o=t.slice(1)),h(e,n,...o.flat())}}));const{html:html,head:head,title:title,base:base,link:link,meta:meta,style:style,body:body,header:header,nav:nav,main:main,section:section,article:article,aside:aside,footer:footer,h1:h1,h2:h2,h3:h3,h4:h4,h5:h5,h6:h6,hgroup:hgroup,p:p,hr:hr,pre:pre,blockquote:blockquote,ol:ol,ul:ul,li:li,dl:dl,dt:dt,dd:dd,figure:figure,figcaption:figcaption,div:div,a:a,em:em,strong:strong,small:small,s:s,cite:cite,q:q,dfn:dfn,abbr:abbr,data:data,time:time,code:code,samp:samp,kbd:kbd,sub:sub,sup:sup,i:i,b:b,u:u,mark:mark,ruby:ruby,rt:rt,rp:rp,bdi:bdi,bdo:bdo,span:span,br:br,wbr:wbr,img:img,audio:audio,video:video,track:track,map:map,area:area,picture:picture,embed:embed,object:object,param:param,iframe:iframe,source:source,script:script,noscript:noscript,canvas:canvas,template:template,slot:slot,del:del,ins:ins,table:table,caption:caption,colgroup:colgroup,col:col,thead:thead,tbody:tbody,tfoot:tfoot,tr:tr,th:th,td:td,form:form,fieldset:fieldset,legend:legend,label:label,input:input,button:button,select:select,datalist:datalist,optgroup:optgroup,option:option,textarea:textarea,output:output,details:details,summary:summary,dialog:dialog,menu:menu,menuitem:menuitem,svg:svg,path:path}=elements;function Fragment({children:e}){return e}function memo(e,t){const n=function(n){const o=useRef(null),r=useRef(null);return(!o.current||(t?!t(o.current,n):!shallowEqual(o.current,n)))&&(o.current=n,r.current=e(n)),r.current};return n.displayName=`Memo(${e.displayName||e.name})`,n}function shallowEqual(e,t){if(e===t)return!0;if("object"!=typeof e||"object"!=typeof t)return!1;if(null===e||null===t)return!1;const n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every((n=>e[n]===t[n]))}function forceUpdate(){scheduleUpdate((()=>update()))}function unmountComponentAtNode(e){return!!e&&(cleanupDOMElement(e),e.innerHTML="",activeComponentIds.forEach((e=>cleanupComponent(e))),activeComponentIds.clear(),root===e&&(root=null,component=null,oldVTree=null),!0)}function useImperativeHandle(e,t,n){validateHookCall("useImperativeHandle"),useLayoutEffect((()=>"function"==typeof e?(e(t()),()=>e(null)):e&&"object"==typeof e?(e.current=t(),()=>{e.current=null}):void 0),n)}function useDebugValue(e,t){if(validateHookCall("useDebugValue"),!DEBUG_MODE)return;const n=t?t(e):e;if(devTools&&devTools.recordDebugValue){const e=getComponentName(componentStack[componentStack.length-1]);devTools.recordDebugValue(e,n)}}let idCounter=0;function useId(){validateHookCall("useId");getComponentId(componentStack[componentStack.length-1]);const e=currentInstanceKey;componentStates.has(e)||componentStates.set(e,[]);const t=componentStates.get(e),n=componentInstances.get(e);n._stateIndex||(n._stateIndex=0);const o=n._stateIndex;return void 0===t[o]&&(t[o]="myreact-"+ ++idCounter),n._stateIndex++,t[o]}function useTransition(){validateHookCall("useTransition");const[e,t]=useState(!1);return[e,useCallback((e=>{t(!0),setTimeout((()=>{try{e()}finally{t(!1)}}),0)}),[])]}function useDeferredValue(e){validateHookCall("useDeferredValue");const[t,n]=useState(e);return useEffect((()=>{const t=setTimeout((()=>{n(e)}),0);return()=>clearTimeout(t)}),[e]),t}function useSyncExternalStore(e,t,n){validateHookCall("useSyncExternalStore");const o=t(),[{inst:r},a]=useState({inst:{value:o,getSnapshot:t}});return useLayoutEffect((()=>{r.value=o,r.getSnapshot=t,checkIfSnapshotChanged(r)&&a({inst:r})}),[e,o,t]),useEffect((()=>{checkIfSnapshotChanged(r)&&a({inst:r});return e((()=>{checkIfSnapshotChanged(r)&&a({inst:r})}))}),[e]),o}function checkIfSnapshotChanged(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!Object.is(n,e)}catch(e){return!0}}function batchUpdates(e){const t=updateScheduled;try{e()}finally{!t&&batchedUpdates.size>0&&flushUpdates()}}function flushSync(e){const t=new Set(batchedUpdates);batchedUpdates.clear();try{e(),flushUpdates()}finally{t.forEach((e=>batchedUpdates.add(e)))}}function StrictMode({children:e}){if(!DEBUG_MODE)return e;const[t,n]=useState(0);if(useEffect((()=>{0===t&&n(1)}),[t]),CONFIG.features.strictMode&&t<1)try{"function"==typeof e&&e()}catch(e){console.warn("StrictMode detected an issue:",e)}return e}function Profiler({id:e,onRender:t,children:n}){const o=useRef(Date.now()),r=useRef(0);return useLayoutEffect((()=>{r.current=performance.now()})),useEffect((()=>{const n=performance.now()-r.current,a=o.current===Date.now()?"mount":"update";t&&t(e,a,n)})),n}function cloneElement(e,t,...n){if(!e||!e.type)throw new MyReactError("cloneElement requires a valid element");const o={...e.props,...t},r=n.length>0?n:e.children;return createVNode(e.type,o,r)}function isValidElement(e){return"object"==typeof e&&null!==e&&void 0!==e.type}const Children={map(e,t){if(null==e)return e;return(Array.isArray(e)?e:[e]).map(((e,n)=>t(e,n)))},forEach(e,t){if(null==e)return;(Array.isArray(e)?e:[e]).forEach(((e,n)=>t(e,n)))},count:e=>null==e?0:Array.isArray(e)?e.length:1,only(e){if(!isValidElement(e))throw new MyReactError("Children.only expected to receive a single element");return e},toArray:e=>null==e?[]:Array.isArray(e)?e:[e]};function forwardRef(e){const t=function(t){const{ref:n,...o}=t;return e(o,n)};return t.displayName=`ForwardRef(${e.displayName||e.name})`,t}function createRef(){return{current:null}}function createErrorBoundary(e){return function({children:t,onError:n,onReset:o}){const[r,a]=useState(null),[c,s]=useState(null),[l,i]=useState(0),u={onError:(e,t)=>{a(e),s(t),i((e=>e+1)),n&&n(e,t)}};useLayoutEffect((()=>(errorBoundaryStack.push(u),()=>{const e=errorBoundaryStack.indexOf(u);-1!==e&&errorBoundaryStack.splice(e,1)})),[]);const d=useCallback((()=>{a(null),s(null),o&&o()}),[o]);if(r)return e({error:r,errorInfo:c,resetError:d,errorCount:l});try{return t}catch(t){return u.onError(t,{componentStack:componentStack.map((e=>e.name)).join(" > ")}),e({error:t,errorInfo:{componentStack:componentStack.map((e=>e.name)).join(" > ")},resetError:d,errorCount:l+1})}}}const devWarnings={warnedKeys:new Set,warnOnce(e,t){DEBUG_MODE&&!this.warnedKeys.has(e)&&(this.warnedKeys.add(e),console.warn(`[MyReact Warning]: ${t}`))},checkKeyUsage(e){if(!DEBUG_MODE||!Array.isArray(e))return;const t=new Set;let n=!1;e.forEach(((o,r)=>{if(!o||!o.type)return;const a=o.key;null==a&&e.length>1?n||(this.warnOnce(`missing-keys-${r}`,'Each child in a list should have a unique "key" prop.'),n=!0):null!=a&&t.has(a)&&this.warnOnce(`duplicate-key-${a}`,`Encountered two children with the same key: "${a}". Keys should be unique.`),null!=a&&t.add(a)}))},checkPropTypes(e,t){DEBUG_MODE&&e.propTypes&&validateProps(e,t)}},TestUtils={act(e){const t=e();return t instanceof Promise?t.then((()=>(flushUpdates(),new Promise((e=>setTimeout(e,0)))))):(flushUpdates(),new Promise((e=>setTimeout(e,0))))},mockComponent(e){const t=function(t){return h("div",{"data-testid":e},t.children)};return t.displayName=e,t},findByTestId:(e,t)=>e.querySelector(`[data-testid="${t}"]`),findAllByTestId:(e,t)=>Array.from(e.querySelectorAll(`[data-testid="${t}"]`))};function renderToString(e){if(null==e||!1===e)return"";if("string"==typeof e||"number"==typeof e)return escapeHtml(String(e));if("TEXT"===e.type)return escapeHtml(e.props.textContent||"");if("function"==typeof e.type){return renderToString(e.type(e.props))}const{type:t,props:n,children:o}=e,r=Object.keys(n||{}).filter((e=>"key"!==e&&"ref"!==e&&"children"!==e)).map((e=>{if("className"===e)return`class="${escapeHtml(n[e])}"`;if("style"===e&&"object"==typeof n[e]){return`style="${Object.keys(n[e]).map((t=>`${kebabCase(t)}:${n[e][t]}`)).join(";")}"`}return e.startsWith("on")?"":`${e}="${escapeHtml(String(n[e]))}"`})).filter(Boolean).join(" "),a=r?`<${t} ${r}>`:`<${t}>`;if(new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]).has(t))return a.replace(">"," />");return`${a}${(o||[]).map((e=>renderToString(e))).join("")}</${t}>`}function escapeHtml(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};return e.replace(/[&<>"']/g,(e=>t[e]))}function kebabCase(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const scheduler={tasks:[],isScheduled:!1,deadline:null,scheduleTask(e,t="normal"){const n={callback:e,priority:t,timestamp:Date.now()};this.tasks.push(n),this.tasks.sort(((e,t)=>{const n={high:3,normal:2,low:1};return(n[t.priority]||2)-(n[e.priority]||2)})),this.isScheduled||(this.isScheduled=!0,requestIdleCallback((e=>this.processTasks(e))))},processTasks(e){for(this.deadline=e;this.tasks.length>0&&e.timeRemaining()>0;){const e=this.tasks.shift();try{e.callback()}catch(e){console.error("Error in scheduled task:",e)}}this.tasks.length>0?requestIdleCallback((e=>this.processTasks(e))):this.isScheduled=!1}};IS_BROWSER&&!window.requestIdleCallback&&(window.requestIdleCallback=function(e){const t=Date.now();return setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)});const MyReact={version:"2.0.0",createRoot:createRoot,hydrateRoot:hydrateRoot,render:render,h:h,Fragment:Fragment,StrictMode:StrictMode,Profiler:Profiler,useState:useState,useReducer:useReducer,useEffect:useEffect,useLayoutEffect:useLayoutEffect,useMemo:useMemo,useCallback:useCallback,useRef:useRef,useContext:useContext,useImperativeHandle:useImperativeHandle,useDebugValue:useDebugValue,useId:useId,useTransition:useTransition,useDeferredValue:useDeferredValue,useSyncExternalStore:useSyncExternalStore,createContext:createContext,createRef:createRef,forwardRef:forwardRef,cloneElement:cloneElement,isValidElement:isValidElement,Children:Children,onMount:onMount,onUnmount:onUnmount,withErrorBoundary:withErrorBoundary,createErrorBoundary:createErrorBoundary,memo:memo,Suspense:Suspense,lazy:lazy,createPortal:createPortal,batchUpdates:batchUpdates,flushSync:flushSync,forceUpdate:forceUpdate,unmountComponentAtNode:unmountComponentAtNode,PropTypes:PropTypes,configure:configure,DEBUG_MODE:DEBUG_MODE,setDebugMode:e=>{DEBUG_MODE=e,CONFIG.debug.enabled=e},getPerformanceReport:()=>performanceMetrics.getReport(),resetPerformanceMetrics:()=>performanceMetrics.reset(),__devtools:DEBUG_MODE?devTools:null,TestUtils:TestUtils,renderToString:renderToString,__scheduler:DEBUG_MODE?scheduler:void 0,...elements};IS_BROWSER&&(window.MyReact=MyReact),"undefined"!=typeof module&&module.exports&&(module.exports=MyReact),"function"==typeof define&&define.amd&&define([],(()=>MyReact));